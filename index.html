<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI/ML Career Roadmap Tracker</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'orange-primary': '#f97316',
            'orange-light': '#fb923c',
            'orange-dark': '#ea580c',
            'black-bg': '#000000',
            'gray-dark': '#111111',
            'gray-medium': '#1a1a1a',
            'gray-light': '#2a2a2a',
          }
        }
      }
    }
  </script>
  <style>
    body {
      background-color: #000000 !important;
    }
    
    .phase-active {
      background-color: #f97316 !important;
      color: white !important;
      font-weight: 600;
    }
    
    .phase-inactive {
      background-color: #1a1a1a !important;
      color: #d1d5db;
    }
    
    .checkbox-orange:checked {
      background-color: #f97316 !important;
      border-color: #f97316 !important;
    }
    
    .btn-orange {
      background-color: #f97316 !important;
      color: white !important;
      transition: all 0.2s;
    }
    
    .btn-orange:hover {
      background-color: #ea580c !important;
    }
    
    .progress-bar {
      height: 10px;
      border-radius: 5px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background-color: #f97316;
      border-radius: 5px;
      transition: width 0.5s ease;
    }
    
    .task-complete {
      border-left: 4px solid #f97316;
    }
    
    .streak-counter {
      background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
      color: white;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 0.9rem;
    }
    
    .mobile-optimized {
      touch-action: manipulation;
    }
    
    /* Remove any white backgrounds */
    * {
      box-sizing: border-box;
    }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #111111;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #f97316;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #ea580c;
    }
  </style>
</head>
<body class="bg-black-bg text-gray-100 min-h-screen">

<header class="bg-gray-dark border-b border-gray-light sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 py-4 flex flex-col sm:flex-row justify-between items-center">
    <div class="flex items-center gap-3">
      <div class="bg-orange-primary p-2 rounded-lg">
        <i class="fas fa-brain text-white text-xl"></i>
      </div>
      <div>
        <h1 class="text-xl sm:text-2xl font-bold">AI/ML Career Execution System</h1>
        <p class="text-sm text-orange-300">24-Month Roadmap • Saudi Focus • Orange Edition</p>
      </div>
    </div>
    <div class="mt-3 sm:mt-0 flex items-center gap-4">
      <div class="text-center">
        <div class="streak-counter" id="streakCounter">0</div>
        <p class="text-xs text-gray-400 mt-1">Day Streak</p>
      </div>
    </div>
  </div>
</header>

<main class="max-w-7xl mx-auto px-3 sm:px-4 py-6 space-y-6 sm:space-y-8">

<section class="bg-gray-dark rounded-xl p-4 sm:p-5 border border-gray-light">
  <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
    <i class="fas fa-calendar-alt text-orange-primary"></i>
    Career Timeline (2026–2028)
  </h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-7 gap-2 sm:gap-3">
    <button onclick="setPhase('foundation')" class="phase-btn phase-active rounded-lg py-3 mobile-optimized transition-all duration-200">
      <span class="font-semibold block">Jan–Mar 2026</span>
      <span class="text-xs block mt-1">Foundation</span>
    </button>
    <button onclick="setPhase('phitron')" class="phase-btn phase-inactive rounded-lg py-3 mobile-optimized transition-all duration-200">
      <span class="font-semibold block">Apr–Sep 2026</span>
      <span class="text-xs block mt-1">Phitron Core</span>
    </button>
    <button onclick="setPhase('research')" class="phase-btn phase-inactive rounded-lg py-3 mobile-optimized transition-all duration-200">
      <span class="font-semibold block">Oct 2026–Feb 2027</span>
      <span class="text-xs block mt-1">Research Track</span>
    </button>
    <button onclick="setPhase('projects')" class="phase-btn phase-inactive rounded-lg py-3 mobile-optimized transition-all duration-200">
      <span class="font-semibold block">Mar–Jul 2027</span>
      <span class="text-xs block mt-1">Projects Track</span>
    </button>
    <button onclick="setPhase('internship')" class="phase-btn phase-inactive rounded-lg py-3 mobile-optimized transition-all duration-200">
      <span class="font-semibold block">Aug–Oct 2027</span>
      <span class="text-xs block mt-1">Internship</span>
    </button>
    <button onclick="setPhase('job')" class="phase-btn phase-inactive rounded-lg py-3 mobile-optimized transition-all duration-200">
      <span class="font-semibold block">Nov 2027–Jan 2028</span>
      <span class="text-xs block mt-1">Job Hunt</span>
    </button>
    <button onclick="setPhase('relocation')" class="phase-btn phase-inactive rounded-lg py-3 mobile-optimized transition-all duration-200">
      <span class="font-semibold block">Feb–Jun 2028</span>
      <span class="text-xs block mt-1">Relocation</span>
    </button>
  </div>
  
  <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4">
    <div class="bg-gray-medium rounded-lg p-4 border border-gray-light">
      <div class="flex justify-between items-center">
        <div>
          <p class="text-sm text-gray-400">Current Phase</p>
          <p class="text-lg font-bold text-orange-primary" id="currentPhaseLabel">Foundation</p>
        </div>
        <i class="fas fa-map-marker-alt text-orange-primary text-xl"></i>
      </div>
    </div>
    <div class="bg-gray-medium rounded-lg p-4 border border-gray-light">
      <div class="flex justify-between items-center">
        <div>
          <p class="text-sm text-gray-400">Phase Progress</p>
          <p class="text-lg font-bold text-orange-primary" id="phaseProgress">0%</p>
        </div>
        <i class="fas fa-chart-line text-orange-primary text-xl"></i>
      </div>
    </div>
    <div class="bg-gray-medium rounded-lg p-4 border border-gray-light">
      <div class="flex justify-between items-center">
        <div>
          <p class="text-sm text-gray-400">Overall Progress</p>
          <p class="text-lg font-bold text-orange-primary" id="overallProgress">0%</p>
        </div>
        <i class="fas fa-trophy text-orange-primary text-xl"></i>
      </div>
    </div>
  </div>
</section>

<section class="bg-gray-dark rounded-xl p-4 sm:p-5 border border-gray-light">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-lg font-semibold flex items-center gap-2">
      <i class="fas fa-fire text-orange-primary"></i>
      Daily Discipline
    </h2>
    <button onclick="resetDailyTasks()" class="text-sm text-gray-400 hover:text-orange-primary transition-colors">
      <i class="fas fa-redo mr-1"></i> Reset Day
    </button>
  </div>
  
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 text-sm mb-6">
    <label class="flex items-center gap-3 bg-gray-medium p-3 rounded-lg border border-gray-light hover:bg-gray-light transition-colors cursor-pointer">
      <input type="checkbox" class="routine h-5 w-5 rounded checkbox-orange" data-key="tahajjud">
      <div>
        <span class="font-medium">Tahajjud + Quran</span>
        <div class="flex items-center gap-1 text-xs text-gray-400 mt-1">
          <i class="fas fa-clock"></i>
          <span>Early Morning</span>
        </div>
      </div>
    </label>
    
    <label class="flex items-center gap-3 bg-gray-medium p-3 rounded-lg border border-gray-light hover:bg-gray-light transition-colors cursor-pointer">
      <input type="checkbox" class="routine h-5 w-5 rounded checkbox-orange" data-key="study">
      <div>
        <span class="font-medium">Deep AI Study</span>
        <div class="flex items-center gap-1 text-xs text-gray-400 mt-1">
          <i class="fas fa-book"></i>
          <span>2+ hours</span>
        </div>
      </div>
    </label>
    
    <label class="flex items-center gap-3 bg-gray-medium p-3 rounded-lg border border-gray-light hover:bg-gray-light transition-colors cursor-pointer">
      <input type="checkbox" class="routine h-5 w-5 rounded checkbox-orange" data-key="exercise">
      <div>
        <span class="font-medium">Exercise</span>
        <div class="flex items-center gap-1 text-xs text-gray-400 mt-1">
          <i class="fas fa-dumbbell"></i>
          <span>30+ minutes</span>
        </div>
      </div>
    </label>
    
    <label class="flex items-center gap-3 bg-gray-medium p-3 rounded-lg border border-gray-light hover:bg-gray-light transition-colors cursor-pointer">
      <input type="checkbox" class="routine h-5 w-5 rounded checkbox-orange" data-key="coding">
      <div>
        <span class="font-medium">Coding Practice</span>
        <div class="flex items-center gap-1 text-xs text-gray-400 mt-1">
          <i class="fas fa-code"></i>
          <span>LeetCode/Projects</span>
        </div>
      </div>
    </label>
    
    <label class="flex items-center gap-3 bg-gray-medium p-3 rounded-lg border border-gray-light hover:bg-gray-light transition-colors cursor-pointer">
      <input type="checkbox" class="routine h-5 w-5 rounded checkbox-orange" data-key="teaching">
      <div>
        <span class="font-medium">Teaching / Content</span>
        <div class="flex items-center gap-1 text-xs text-gray-400 mt-1">
          <i class="fas fa-chalkboard-teacher"></i>
          <span>Blog/Video/Post</span>
        </div>
      </div>
    </label>
  </div>
  
  <div class="mt-4">
    <div class="flex justify-between text-sm mb-2">
      <span class="text-gray-400">Today's Progress</span>
      <span id="progressPercent" class="font-semibold text-orange-primary">0%</span>
    </div>
    <div class="progress-bar bg-gray-medium">
      <div id="progressFill" class="progress-fill" style="width: 0%"></div>
    </div>
    <div class="flex justify-between mt-3">
      <div class="text-center">
        <p class="text-lg font-bold text-orange-primary" id="completedCount">0</p>
        <p class="text-xs text-gray-400">Completed</p>
      </div>
      <div class="text-center">
        <p class="text-lg font-bold text-gray-300" id="remainingCount">5</p>
        <p class="text-xs text-gray-400">Remaining</p>
      </div>
      <div class="text-center">
        <p class="text-lg font-bold text-orange-primary" id="streakDays">0</p>
        <p class="text-xs text-gray-400">Day Streak</p>
      </div>
    </div>
  </div>
</section>

<section class="bg-gray-dark rounded-xl p-4 sm:p-5 border border-gray-light">
  <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
    <i class="fas fa-tasks text-orange-primary"></i>
    Phase Objectives & Checklist
    <span class="text-sm font-normal text-gray-400 ml-auto" id="phaseTasksStatus">0/6 completed</span>
  </h2>
  <ul id="taskList" class="space-y-3 text-sm"></ul>
</section>

<section class="bg-gray-dark rounded-xl p-4 sm:p-5 border border-gray-light">
  <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
    <i class="fas fa-bullseye text-orange-primary"></i>
    Weekly Focus Goals
  </h2>
  <div class="flex gap-2 mb-4">
    <input id="goalInput" type="text" placeholder="Add a weekly goal (e.g., Complete CNN project)" class="flex-1 px-4 py-3 rounded-lg bg-gray-medium border border-gray-light focus:outline-none focus:ring-2 focus:ring-orange-primary" />
    <button onclick="addGoal()" class="btn-orange px-5 rounded-lg font-medium">
      <i class="fas fa-plus mr-1"></i> Add
    </button>
  </div>
  <ul id="goalList" class="space-y-3"></ul>
</section>

</main>

<footer class="text-center py-6 border-t border-gray-medium">
  <div class="max-w-7xl mx-auto px-4">
    <p class="text-sm text-gray-400 mb-2">Saiyedul Abrar • AI/ML Engineer Roadmap</p>
    <p class="text-xs text-gray-600">Designed for PC & Mobile • Data stored locally in your browser</p>
    <div class="flex justify-center gap-4 mt-4">
      <button onclick="exportData()" class="text-sm text-gray-400 hover:text-orange-primary transition-colors">
        <i class="fas fa-download mr-1"></i> Export Data
      </button>
      <button onclick="resetAllData()" class="text-sm text-gray-400 hover:text-red-500 transition-colors">
        <i class="fas fa-trash-alt mr-1"></i> Reset All
      </button>
    </div>
  </div>
</footer>

<script>
// Initialize localStorage keys
const STREAK_KEY = 'ai_ml_streak';
const LAST_ACTIVE_DATE_KEY = 'ai_ml_last_active_date';
const DAILY_TASKS_KEY = 'ai_ml_daily_tasks';
const GOALS_KEY = 'ai_ml_goals';
const PHASE_PROGRESS_KEY = 'ai_ml_phase_progress';

// Enhanced roadmap with more details
const roadmap = {
  foundation: [
    {title: 'Python Mastery', details: ['Syntax & control flow', 'Functions & OOP', 'File handling', 'Clean coding practices', 'Libraries: NumPy, Pandas']},
    {title: 'Data Structures', details: ['Lists, stacks, queues', 'Dictionaries & sets', 'Time complexity intuition', 'Algorithmic thinking']},
    {title: 'Git & Linux', details: ['Daily Git commits', 'Branching basics', 'Linux terminal commands', 'Bash scripting fundamentals']},
    {title: 'Math for ML', details: ['Vectors & matrices', 'Dot product', 'Probability basics', 'Bias vs variance', 'Calculus fundamentals']},
    {title: 'ML Foundations', details: ['Supervised vs unsupervised', 'Linear regression', 'Logistic regression', 'Model evaluation metrics']},
    {title: 'Mini Project', details: ['Kaggle dataset', 'End-to-end ML pipeline', 'README documentation', 'GitHub repository setup']}
  ],
  phitron: [
    {title: 'Core ML & DL', details: ['Regression & classification', 'Neural networks', 'Loss functions', 'Optimization algorithms']},
    {title: 'Deep Learning', details: ['CNN basics', 'RNN basics', 'Transformers overview', 'TensorFlow/PyTorch basics']},
    {title: 'Hands-on Projects', details: ['Weekly implementations', 'Code reviews', 'Performance tuning', 'Model deployment basics']},
    {title: 'Teaching & Presence', details: ['Weekly posts', 'Concept explanations', 'Community interaction', 'Build online portfolio']}
  ],
  research: [
    {title: 'Research Domain', details: ['Select applied field', 'Problem definition', 'Industry relevance', 'Saudi market focus']},
    {title: 'Literature Review', details: ['Read papers', 'Summarize findings', 'Identify gaps', 'Build reference library']},
    {title: 'Experiments', details: ['Dataset prep', 'Model training', 'Result analysis', 'Statistical validation']},
    {title: 'Paper & Thesis', details: ['Paper writing', 'Submission', 'Defense preparation', 'Conference targeting']}
  ],
  projects: [
    {title: 'AI Product Idea', details: ['Saudi-relevant use case', 'Feasibility analysis', 'Market research', 'Stakeholder identification']},
    {title: 'System Development', details: ['FastAPI backend', 'Model integration', 'Frontend UI', 'Database design']},
    {title: 'Deployment', details: ['Docker basics', 'Cloud deployment', 'Monitoring', 'CI/CD pipeline']},
    {title: 'Career Prep', details: ['Resume', 'Mock interviews', 'Portfolio polish', 'LinkedIn optimization']}
  ],
  internship: [
    {title: 'Industry Exposure', details: ['Internship search', 'Freelance gigs', 'Client communication', 'Professional networking']},
    {title: 'Production Work', details: ['Maintain systems', 'Bug fixes', 'Optimization', 'Documentation writing']}
  ],
  job: [
    {title: 'Job Applications', details: ['Saudi/UAE roles', 'LinkedIn outreach', 'Referrals', 'Company research']},
    {title: 'Interview Prep', details: ['ML questions', 'System design', 'Behavioral prep', 'Coding challenges']}
  ],
  relocation: [
    {title: 'Documentation', details: ['Visa process', 'Certificates', 'Transcripts', 'Background checks']},
    {title: 'Relocation Prep', details: ['Housing', 'Cost planning', 'Cultural readiness', 'Networking in target country']}
  ]
};

let currentPhase = 'foundation';

// Update streak system
function updateStreak() {
  const today = new Date().toDateString();
  const lastActive = localStorage.getItem(LAST_ACTIVE_DATE_KEY);
  let streak = parseInt(localStorage.getItem(STREAK_KEY)) || 0;
  
  if (lastActive !== today) {
    const yesterday = new Date();
    yesterday.setDate(yesterday.getDate() - 1);
    
    if (lastActive === yesterday.toDateString()) {
      streak += 1;
    } else if (lastActive !== today) {
      streak = 1;
    }
    
    localStorage.setItem(STREAK_KEY, streak.toString());
    localStorage.setItem(LAST_ACTIVE_DATE_KEY, today);
  }
  
  document.getElementById('streakCounter').textContent = streak;
  document.getElementById('streakDays').textContent = streak;
  return streak;
}

// Daily discipline progress
const routineCheckboxes = document.querySelectorAll('.routine');
const progressFill = document.getElementById('progressFill');
const progressPercent = document.getElementById('progressPercent');
const completedCount = document.getElementById('completedCount');
const remainingCount = document.getElementById('remainingCount');

function updateProgress() {
  let completed = 0;
  const today = new Date().toDateString();
  const dailyTasksKey = `${DAILY_TASKS_KEY}_${today}`;
  const savedTasks = JSON.parse(localStorage.getItem(dailyTasksKey) || '{}');
  
  routineCheckboxes.forEach(cb => {
    const key = cb.dataset.key;
    cb.checked = savedTasks[key] === true || localStorage.getItem(key) === 'true';
    if (cb.checked) completed++;
  });
  
  const total = routineCheckboxes.length;
  const percent = Math.round((completed / total) * 100);
  
  progressFill.style.width = `${percent}%`;
  progressPercent.textContent = `${percent}%`;
  completedCount.textContent = completed;
  remainingCount.textContent = total - completed;
  
  // Update streak
  updateStreak();
  
  // Save daily tasks
  const dailyTasks = {};
  routineCheckboxes.forEach(cb => {
    dailyTasks[cb.dataset.key] = cb.checked;
  });
  localStorage.setItem(dailyTasksKey, JSON.stringify(dailyTasks));
}

function resetDailyTasks() {
  if (confirm('Reset all daily tasks for today?')) {
    routineCheckboxes.forEach(cb => {
      cb.checked = false;
      localStorage.removeItem(cb.dataset.key);
    });
    
    const today = new Date().toDateString();
    const dailyTasksKey = `${DAILY_TASKS_KEY}_${today}`;
    localStorage.removeItem(dailyTasksKey);
    
    updateProgress();
  }
}

routineCheckboxes.forEach(cb => {
  cb.addEventListener('change', () => {
    localStorage.setItem(cb.dataset.key, cb.checked);
    updateProgress();
  });
});

// Phase management
function setPhase(p) {
  currentPhase = p;
  
  // Update phase buttons
  document.querySelectorAll('.phase-btn').forEach(b => {
    b.classList.remove('phase-active');
    b.classList.add('phase-inactive');
  });
  
  event.currentTarget.classList.remove('phase-inactive');
  event.currentTarget.classList.add('phase-active');
  
  // Update phase label
  document.getElementById('currentPhaseLabel').textContent = 
    p.charAt(0).toUpperCase() + p.slice(1);
  
  loadTasks();
  updatePhaseProgress();
}

// FIXED: Checklist details function
function toggleDetails(button) {
  const taskItem = button.closest('li');
  const detailsList = taskItem.querySelector('.task-details');
  const icon = button.querySelector('i');
  
  if (detailsList.classList.contains('hidden')) {
    detailsList.classList.remove('hidden');
    icon.classList.remove('fa-chevron-right');
    icon.classList.add('fa-chevron-down');
  } else {
    detailsList.classList.add('hidden');
    icon.classList.remove('fa-chevron-down');
    icon.classList.add('fa-chevron-right');
  }
}

function loadTasks() {
  const list = document.getElementById('taskList');
  list.innerHTML = '';
  
  const phaseProgressKey = `${PHASE_PROGRESS_KEY}_${currentPhase}`;
  const saved = JSON.parse(localStorage.getItem(phaseProgressKey) || '[]');
  
  roadmap[currentPhase].forEach((obj, i) => {
    const checked = saved.includes(i);
    const li = document.createElement('li');
    
    li.innerHTML = `
      <div class="bg-gray-medium rounded-lg p-4 border border-gray-light ${checked ? 'task-complete' : ''}">
        <div class="flex justify-between items-center">
          <label class="flex gap-3 items-center cursor-pointer">
            <input type="checkbox" ${checked ? 'checked' : ''} 
                   onchange="toggleTask(${i})" 
                   class="h-5 w-5 rounded checkbox-orange">
            <div>
              <span class="font-semibold ${checked ? 'text-gray-400' : 'text-white'}">${obj.title}</span>
              <div class="flex items-center gap-2 text-xs mt-1 ${checked ? 'text-orange-primary' : 'text-gray-400'}">
                <i class="fas fa-${checked ? 'check-circle' : 'circle'}"></i>
                <span>${checked ? 'Completed' : 'In progress'}</span>
              </div>
            </div>
          </label>
          <button onclick="toggleDetails(this)" 
                  class="text-orange-primary hover:text-orange-light transition-colors p-1">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
        <div class="task-details hidden mt-3 ml-8 space-y-2 text-gray-300">
          ${obj.details.map(d => `
            <div class="flex items-center gap-2">
              <i class="fas fa-check text-orange-primary text-xs"></i>
              <span>${d}</span>
            </div>
          `).join('')}
        </div>
      </div>
    `;
    
    list.appendChild(li);
  });
  
  updatePhaseProgress();
}

function updatePhaseProgress() {
  const phaseProgressKey = `${PHASE_PROGRESS_KEY}_${currentPhase}`;
  const saved = JSON.parse(localStorage.getItem(phaseProgressKey) || '[]');
  const phaseTasks = roadmap[currentPhase].length;
  const completed = saved.length;
  const percent = phaseTasks > 0 ? Math.round((completed / phaseTasks) * 100) : 0;
  
  document.getElementById('phaseProgress').textContent = `${percent}%`;
  document.getElementById('phaseTasksStatus').textContent = `${completed}/${phaseTasks} completed`;
  
  // Update overall progress
  updateOverallProgress();
}

function updateOverallProgress() {
  let totalTasks = 0;
  let totalCompleted = 0;
  
  Object.keys(roadmap).forEach(phase => {
    const phaseProgressKey = `${PHASE_PROGRESS_KEY}_${phase}`;
    const saved = JSON.parse(localStorage.getItem(phaseProgressKey) || '[]');
    totalTasks += roadmap[phase].length;
    totalCompleted += saved.length;
  });
  
  const overallPercent = totalTasks > 0 ? Math.round((totalCompleted / totalTasks) * 100) : 0;
  document.getElementById('overallProgress').textContent = `${overallPercent}%`;
}

function toggleTask(i) {
  const phaseProgressKey = `${PHASE_PROGRESS_KEY}_${currentPhase}`;
  let saved = JSON.parse(localStorage.getItem(phaseProgressKey) || '[]');
  
  if (saved.includes(i)) {
    saved = saved.filter(x => x !== i);
  } else {
    saved.push(i);
  }
  
  localStorage.setItem(phaseProgressKey, JSON.stringify(saved));
  loadTasks();
}

// Weekly goals management
function loadGoals() {
  const list = document.getElementById('goalList');
  list.innerHTML = '';
  
  const goals = JSON.parse(localStorage.getItem(GOALS_KEY) || '[]');
  
  if (goals.length === 0) {
    list.innerHTML = `
      <li class="text-center py-6 text-gray-500 border border-gray-light rounded-lg">
        <i class="fas fa-bullseye text-3xl mb-3"></i>
        <p>No weekly goals yet. Add your first goal above!</p>
      </li>
    `;
    return;
  }
  
  goals.forEach((g, i) => {
    const li = document.createElement('li');
    li.className = 'flex justify-between items-center bg-gray-medium hover:bg-gray-light px-4 py-3 rounded-lg border border-gray-light transition-colors';
    
    li.innerHTML = `
      <div class="flex items-center gap-3">
        <input type="checkbox" onchange="toggleGoal(${i})" 
               class="h-5 w-5 rounded checkbox-orange" ${g.completed ? 'checked' : ''}>
        <span class="${g.completed ? 'line-through text-gray-500' : 'text-white'}">${g.text}</span>
      </div>
      <button onclick="removeGoal(${i})" 
              class="text-gray-400 hover:text-red-500 transition-colors p-1">
        <i class="fas fa-times"></i>
      </button>
    `;
    
    list.appendChild(li);
  });
}

function addGoal() {
  const input = document.getElementById('goalInput');
  if (!input.value.trim()) return;
  
  const goals = JSON.parse(localStorage.getItem(GOALS_KEY) || '[]');
  goals.push({text: input.value.trim(), completed: false});
  
  localStorage.setItem(GOALS_KEY, JSON.stringify(goals));
  input.value = '';
  loadGoals();
}

function removeGoal(i) {
  const goals = JSON.parse(localStorage.getItem(GOALS_KEY) || '[]');
  goals.splice(i, 1);
  localStorage.setItem(GOALS_KEY, JSON.stringify(goals));
  loadGoals();
}

function toggleGoal(i) {
  const goals = JSON.parse(localStorage.getItem(GOALS_KEY) || '[]');
  goals[i].completed = !goals[i].completed;
  localStorage.setItem(GOALS_KEY, JSON.stringify(goals));
  loadGoals();
}

// Data management
function exportData() {
  const data = {
    streak: localStorage.getItem(STREAK_KEY),
    lastActive: localStorage.getItem(LAST_ACTIVE_DATE_KEY),
    dailyTasks: {},
    phaseProgress: {},
    goals: JSON.parse(localStorage.getItem(GOALS_KEY) || '[]'),
    exported: new Date().toISOString()
  };
  
  // Collect all phase progress
  Object.keys(roadmap).forEach(phase => {
    const phaseProgressKey = `${PHASE_PROGRESS_KEY}_${phase}`;
    data.phaseProgress[phase] = JSON.parse(localStorage.getItem(phaseProgressKey) || '[]');
  });
  
  // Collect daily tasks for last 7 days
  for (let i = 0; i < 7; i++) {
    const date = new Date();
    date.setDate(date.getDate() - i);
    const dateKey = date.toDateString();
    const dailyTasksKey = `${DAILY_TASKS_KEY}_${dateKey}`;
    const dailyTasks = localStorage.getItem(dailyTasksKey);
    
    if (dailyTasks) {
      data.dailyTasks[dateKey] = JSON.parse(dailyTasks);
    }
  }
  
  const dataStr = JSON.stringify(data, null, 2);
  const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);
  
  const exportFileDefaultName = `ai-ml-roadmap-data-${new Date().toISOString().split('T')[0]}.json`;
  
  const linkElement = document.createElement('a');
  linkElement.setAttribute('href', dataUri);
  linkElement.setAttribute('download', exportFileDefaultName);
  linkElement.click();
  
  alert('Data exported successfully!');
}

function resetAllData() {
  if (confirm('Are you sure you want to reset ALL data? This cannot be undone.')) {
    localStorage.clear();
    location.reload();
  }
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  updateStreak();
  updateProgress();
  loadTasks();
  loadGoals();
  updateOverallProgress();
});
</script>

</body>
</html>